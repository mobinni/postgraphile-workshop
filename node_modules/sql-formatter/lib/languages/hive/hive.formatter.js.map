{"version":3,"file":"hive.formatter.js","names":["expandPhrases","functions","keywords","reservedSelect","reservedClauses","onelineClauses","reservedSetOperations","reservedJoins","reservedPhrases","hive","tokenizerOptions","reservedKeywords","reservedFunctionNames","extraParens","stringTypes","identTypes","variableTypes","quote","prefixes","requirePrefix","operators","formatOptions"],"sources":["../../../src/languages/hive/hive.formatter.ts"],"sourcesContent":["import { DialectOptions } from '../../dialect.js';\nimport { expandPhrases } from '../../expandPhrases.js';\nimport { functions } from './hive.functions.js';\nimport { keywords } from './hive.keywords.js';\n\nconst reservedSelect = expandPhrases(['SELECT [ALL | DISTINCT]']);\n\nconst reservedClauses = expandPhrases([\n  // queries\n  'WITH',\n  'FROM',\n  'WHERE',\n  'GROUP BY',\n  'HAVING',\n  'WINDOW',\n  'PARTITION BY',\n  'ORDER BY',\n  'SORT BY',\n  'CLUSTER BY',\n  'DISTRIBUTE BY',\n  'LIMIT',\n  // Data manipulation\n  // - insert:\n  //   Hive does not actually support plain INSERT INTO, only INSERT INTO TABLE\n  //   but it's a nuisance to not support it, as all other dialects do.\n  'INSERT INTO [TABLE]',\n  'VALUES',\n  // - update:\n  'SET',\n  // - merge:\n  'MERGE INTO',\n  'WHEN [NOT] MATCHED [THEN]',\n  'UPDATE SET',\n  'INSERT [VALUES]',\n  // - insert overwrite directory:\n  //   https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Writingdataintothefilesystemfromqueries\n  'INSERT OVERWRITE [LOCAL] DIRECTORY',\n  // - load:\n  //   https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Loadingfilesintotables\n  'LOAD DATA [LOCAL] INPATH',\n  '[OVERWRITE] INTO TABLE',\n  // Data definition\n  'CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]',\n  'CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]',\n]);\n\nconst onelineClauses = expandPhrases([\n  // - update:\n  'UPDATE',\n  // - delete:\n  'DELETE FROM',\n  // - drop table:\n  'DROP TABLE [IF EXISTS]',\n  // - alter table:\n  'ALTER TABLE',\n  'RENAME TO',\n  // - truncate:\n  'TRUNCATE [TABLE]',\n  // other\n  'ALTER',\n  'CREATE',\n  'USE',\n  'DESCRIBE',\n  'DROP',\n  'FETCH',\n  'SHOW',\n  'STORED AS',\n  'STORED BY',\n  'ROW FORMAT',\n]);\n\nconst reservedSetOperations = expandPhrases(['UNION [ALL | DISTINCT]']);\n\nconst reservedJoins = expandPhrases([\n  'JOIN',\n  '{LEFT | RIGHT | FULL} [OUTER] JOIN',\n  '{INNER | CROSS} JOIN',\n  // non-standard joins\n  'LEFT SEMI JOIN',\n]);\n\nconst reservedPhrases = expandPhrases(['{ROWS | RANGE} BETWEEN']);\n\n// https://cwiki.apache.org/confluence/display/Hive/LanguageManual\nexport const hive: DialectOptions = {\n  tokenizerOptions: {\n    reservedSelect,\n    reservedClauses: [...reservedClauses, ...onelineClauses],\n    reservedSetOperations,\n    reservedJoins,\n    reservedPhrases,\n    reservedKeywords: keywords,\n    reservedFunctionNames: functions,\n    extraParens: ['[]'],\n    stringTypes: ['\"\"-bs', \"''-bs\"],\n    identTypes: ['``'],\n    variableTypes: [{ quote: '{}', prefixes: ['$'], requirePrefix: true }],\n    operators: ['%', '~', '^', '|', '&', '<=>', '==', '!', '||'],\n  },\n  formatOptions: {\n    onelineClauses,\n  },\n};\n"],"mappings":"AACA,SAASA,aAAT,QAA8B,wBAA9B;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,SAASC,QAAT,QAAyB,oBAAzB;AAEA,MAAMC,cAAc,GAAGH,aAAa,CAAC,CAAC,yBAAD,CAAD,CAApC;AAEA,MAAMI,eAAe,GAAGJ,aAAa,CAAC,CACpC;AACA,MAFoC,EAGpC,MAHoC,EAIpC,OAJoC,EAKpC,UALoC,EAMpC,QANoC,EAOpC,QAPoC,EAQpC,cARoC,EASpC,UAToC,EAUpC,SAVoC,EAWpC,YAXoC,EAYpC,eAZoC,EAapC,OAboC,EAcpC;AACA;AACA;AACA;AACA,qBAlBoC,EAmBpC,QAnBoC,EAoBpC;AACA,KArBoC,EAsBpC;AACA,YAvBoC,EAwBpC,2BAxBoC,EAyBpC,YAzBoC,EA0BpC,iBA1BoC,EA2BpC;AACA;AACA,oCA7BoC,EA8BpC;AACA;AACA,0BAhCoC,EAiCpC,wBAjCoC,EAkCpC;AACA,4CAnCoC,EAoCpC,qDApCoC,CAAD,CAArC;AAuCA,MAAMK,cAAc,GAAGL,aAAa,CAAC,CACnC;AACA,QAFmC,EAGnC;AACA,aAJmC,EAKnC;AACA,wBANmC,EAOnC;AACA,aARmC,EASnC,WATmC,EAUnC;AACA,kBAXmC,EAYnC;AACA,OAbmC,EAcnC,QAdmC,EAenC,KAfmC,EAgBnC,UAhBmC,EAiBnC,MAjBmC,EAkBnC,OAlBmC,EAmBnC,MAnBmC,EAoBnC,WApBmC,EAqBnC,WArBmC,EAsBnC,YAtBmC,CAAD,CAApC;AAyBA,MAAMM,qBAAqB,GAAGN,aAAa,CAAC,CAAC,wBAAD,CAAD,CAA3C;AAEA,MAAMO,aAAa,GAAGP,aAAa,CAAC,CAClC,MADkC,EAElC,oCAFkC,EAGlC,sBAHkC,EAIlC;AACA,gBALkC,CAAD,CAAnC;AAQA,MAAMQ,eAAe,GAAGR,aAAa,CAAC,CAAC,wBAAD,CAAD,CAArC,C,CAEA;;AACA,OAAO,MAAMS,IAAoB,GAAG;EAClCC,gBAAgB,EAAE;IAChBP,cADgB;IAEhBC,eAAe,EAAE,CAAC,GAAGA,eAAJ,EAAqB,GAAGC,cAAxB,CAFD;IAGhBC,qBAHgB;IAIhBC,aAJgB;IAKhBC,eALgB;IAMhBG,gBAAgB,EAAET,QANF;IAOhBU,qBAAqB,EAAEX,SAPP;IAQhBY,WAAW,EAAE,CAAC,IAAD,CARG;IAShBC,WAAW,EAAE,CAAC,OAAD,EAAU,OAAV,CATG;IAUhBC,UAAU,EAAE,CAAC,IAAD,CAVI;IAWhBC,aAAa,EAAE,CAAC;MAAEC,KAAK,EAAE,IAAT;MAAeC,QAAQ,EAAE,CAAC,GAAD,CAAzB;MAAgCC,aAAa,EAAE;IAA/C,CAAD,CAXC;IAYhBC,SAAS,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,KAA1B,EAAiC,IAAjC,EAAuC,GAAvC,EAA4C,IAA5C;EAZK,CADgB;EAelCC,aAAa,EAAE;IACbhB;EADa;AAfmB,CAA7B"}