{"version":3,"file":"sqlite.formatter.js","names":["expandPhrases","functions","keywords","reservedSelect","reservedClauses","onelineClauses","reservedSetOperations","reservedJoins","reservedPhrases","sqlite","tokenizerOptions","reservedKeywords","reservedFunctionNames","stringTypes","quote","prefixes","requirePrefix","identTypes","paramTypes","positional","numbered","named","operators","formatOptions"],"sources":["../../../src/languages/sqlite/sqlite.formatter.ts"],"sourcesContent":["import { DialectOptions } from '../../dialect.js';\nimport { expandPhrases } from '../../expandPhrases.js';\nimport { functions } from './sqlite.functions.js';\nimport { keywords } from './sqlite.keywords.js';\n\nconst reservedSelect = expandPhrases(['SELECT [ALL | DISTINCT]']);\n\nconst reservedClauses = expandPhrases([\n  // queries\n  'WITH [RECURSIVE]',\n  'FROM',\n  'WHERE',\n  'GROUP BY',\n  'HAVING',\n  'WINDOW',\n  'PARTITION BY',\n  'ORDER BY',\n  'LIMIT',\n  'OFFSET',\n  // Data manipulation\n  // - insert:\n  'INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO',\n  'REPLACE INTO',\n  'VALUES',\n  // - update:\n  'SET',\n  // Data definition\n  'CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]',\n  'CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]',\n]);\n\nconst onelineClauses = expandPhrases([\n  // - update:\n  'UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]',\n  // - insert:\n  'ON CONFLICT',\n  // - delete:\n  'DELETE FROM',\n  // - drop table:\n  'DROP TABLE [IF EXISTS]',\n  // - alter table:\n  'ALTER TABLE',\n  'ADD [COLUMN]',\n  'DROP [COLUMN]',\n  'RENAME [COLUMN]',\n  'RENAME TO',\n  // - set schema\n  'SET SCHEMA',\n]);\n\nconst reservedSetOperations = expandPhrases(['UNION [ALL]', 'EXCEPT', 'INTERSECT']);\n\n// joins - https://www.sqlite.org/syntax/join-operator.html\nconst reservedJoins = expandPhrases([\n  'JOIN',\n  '{LEFT | RIGHT | FULL} [OUTER] JOIN',\n  '{INNER | CROSS} JOIN',\n  'NATURAL [INNER] JOIN',\n  'NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN',\n]);\n\nconst reservedPhrases = expandPhrases([\n  'ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]',\n  '{ROWS | RANGE | GROUPS} BETWEEN',\n]);\n\nexport const sqlite: DialectOptions = {\n  tokenizerOptions: {\n    reservedSelect,\n    reservedClauses: [...reservedClauses, ...onelineClauses],\n    reservedSetOperations,\n    reservedJoins,\n    reservedPhrases,\n    reservedKeywords: keywords,\n    reservedFunctionNames: functions,\n    stringTypes: [\n      \"''-qq\",\n      { quote: \"''-raw\", prefixes: ['X'], requirePrefix: true },\n      // Depending on context SQLite also supports double-quotes for strings,\n      // and single-quotes for identifiers.\n    ],\n    identTypes: [`\"\"-qq`, '``', '[]'],\n    // https://www.sqlite.org/lang_expr.html#parameters\n    paramTypes: { positional: true, numbered: ['?'], named: [':', '@', '$'] },\n    operators: ['%', '~', '&', '|', '<<', '>>', '==', '->', '->>', '||'],\n  },\n  formatOptions: {\n    onelineClauses,\n  },\n};\n"],"mappings":"AACA,SAASA,aAAT,QAA8B,wBAA9B;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAASC,QAAT,QAAyB,sBAAzB;AAEA,MAAMC,cAAc,GAAGH,aAAa,CAAC,CAAC,yBAAD,CAAD,CAApC;AAEA,MAAMI,eAAe,GAAGJ,aAAa,CAAC,CACpC;AACA,kBAFoC,EAGpC,MAHoC,EAIpC,OAJoC,EAKpC,UALoC,EAMpC,QANoC,EAOpC,QAPoC,EAQpC,cARoC,EASpC,UAToC,EAUpC,OAVoC,EAWpC,QAXoC,EAYpC;AACA;AACA,yEAdoC,EAepC,cAfoC,EAgBpC,QAhBoC,EAiBpC;AACA,KAlBoC,EAmBpC;AACA,gDApBoC,EAqBpC,iDArBoC,CAAD,CAArC;AAwBA,MAAMK,cAAc,GAAGL,aAAa,CAAC,CACnC;AACA,oEAFmC,EAGnC;AACA,aAJmC,EAKnC;AACA,aANmC,EAOnC;AACA,wBARmC,EASnC;AACA,aAVmC,EAWnC,cAXmC,EAYnC,eAZmC,EAanC,iBAbmC,EAcnC,WAdmC,EAenC;AACA,YAhBmC,CAAD,CAApC;AAmBA,MAAMM,qBAAqB,GAAGN,aAAa,CAAC,CAAC,aAAD,EAAgB,QAAhB,EAA0B,WAA1B,CAAD,CAA3C,C,CAEA;;AACA,MAAMO,aAAa,GAAGP,aAAa,CAAC,CAClC,MADkC,EAElC,oCAFkC,EAGlC,sBAHkC,EAIlC,sBAJkC,EAKlC,4CALkC,CAAD,CAAnC;AAQA,MAAMQ,eAAe,GAAGR,aAAa,CAAC,CACpC,+CADoC,EAEpC,iCAFoC,CAAD,CAArC;AAKA,OAAO,MAAMS,MAAsB,GAAG;EACpCC,gBAAgB,EAAE;IAChBP,cADgB;IAEhBC,eAAe,EAAE,CAAC,GAAGA,eAAJ,EAAqB,GAAGC,cAAxB,CAFD;IAGhBC,qBAHgB;IAIhBC,aAJgB;IAKhBC,eALgB;IAMhBG,gBAAgB,EAAET,QANF;IAOhBU,qBAAqB,EAAEX,SAPP;IAQhBY,WAAW,EAAE,CACX,OADW,EAEX;MAAEC,KAAK,EAAE,QAAT;MAAmBC,QAAQ,EAAE,CAAC,GAAD,CAA7B;MAAoCC,aAAa,EAAE;IAAnD,CAFW,CAGX;IACA;IAJW,CARG;IAchBC,UAAU,EAAE,CAAE,OAAF,EAAU,IAAV,EAAgB,IAAhB,CAdI;IAehB;IACAC,UAAU,EAAE;MAAEC,UAAU,EAAE,IAAd;MAAoBC,QAAQ,EAAE,CAAC,GAAD,CAA9B;MAAqCC,KAAK,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX;IAA5C,CAhBI;IAiBhBC,SAAS,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C,KAA7C,EAAoD,IAApD;EAjBK,CADkB;EAoBpCC,aAAa,EAAE;IACblB;EADa;AApBqB,CAA/B"}