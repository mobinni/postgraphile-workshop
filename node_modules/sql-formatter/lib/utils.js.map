{"version":3,"file":"utils.js","names":["dedupe","arr","Set","last","length","sortByLengthDesc","strings","sort","a","b","localeCompare","maxLength","reduce","max","cur","Math","equalizeWhitespace","s","replace","flatKeywordList","obj","Object","values","flat","isMultiline","text","test"],"sources":["../src/utils.ts"],"sourcesContent":["export const dedupe = (arr: string[]) => [...new Set(arr)];\n\n// Last element from array\nexport const last = <T>(arr: T[]): T | undefined => arr[arr.length - 1];\n\n// Sorts strings by length, so that longer ones are first\n// Also sorts alphabetically after sorting by length.\nexport const sortByLengthDesc = (strings: string[]) =>\n  strings.sort((a, b) => b.length - a.length || a.localeCompare(b));\n\n/** Get length of longest string in list of strings */\nexport const maxLength = (strings: string[]) =>\n  strings.reduce((max, cur) => Math.max(max, cur.length), 0);\n\n// replaces long whitespace sequences with just one space\nexport const equalizeWhitespace = (s: string) => s.replace(/\\s+/gu, ' ');\n\n// Used for flattening keyword lists\nexport const flatKeywordList = (obj: Record<string, string[]>): string[] =>\n  dedupe(Object.values(obj).flat());\n\n// True when string contains multiple lines\nexport const isMultiline = (text: string): boolean => /\\n/.test(text);\n\n// Given a type and a field name, returns a type where this field is optional\n//\n// For example, these two type definitions are equivalent:\n//\n//   type Foo = Optional<{ foo: string, bar: number }, 'foo'>;\n//   type Foo = { foo?: string, bar: number };\n//\nexport type Optional<T, K extends keyof T> = Pick<Partial<T>, K> & Omit<T, K>;\n"],"mappings":"AAAA,OAAO,MAAMA,MAAM,GAAIC,GAAD,IAAmB,CAAC,GAAG,IAAIC,GAAJ,CAAQD,GAAR,CAAJ,CAAlC,C,CAEP;;AACA,OAAO,MAAME,IAAI,GAAOF,GAAJ,IAAgCA,GAAG,CAACA,GAAG,CAACG,MAAJ,GAAa,CAAd,CAAhD,C,CAEP;AACA;;AACA,OAAO,MAAMC,gBAAgB,GAAIC,OAAD,IAC9BA,OAAO,CAACC,IAAR,CAAa,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACL,MAAF,GAAWI,CAAC,CAACJ,MAAb,IAAuBI,CAAC,CAACE,aAAF,CAAgBD,CAAhB,CAA9C,CADK;AAGP;;AACA,OAAO,MAAME,SAAS,GAAIL,OAAD,IACvBA,OAAO,CAACM,MAAR,CAAe,CAACC,GAAD,EAAMC,GAAN,KAAcC,IAAI,CAACF,GAAL,CAASA,GAAT,EAAcC,GAAG,CAACV,MAAlB,CAA7B,EAAwD,CAAxD,CADK,C,CAGP;;AACA,OAAO,MAAMY,kBAAkB,GAAIC,CAAD,IAAeA,CAAC,CAACC,OAAF,CAAU,OAAV,EAAmB,GAAnB,CAA1C,C,CAEP;;AACA,OAAO,MAAMC,eAAe,GAAIC,GAAD,IAC7BpB,MAAM,CAACqB,MAAM,CAACC,MAAP,CAAcF,GAAd,EAAmBG,IAAnB,EAAD,CADD,C,CAGP;;AACA,OAAO,MAAMC,WAAW,GAAIC,IAAD,IAA2B,KAAKC,IAAL,CAAUD,IAAV,CAA/C,C,CAEP;AACA;AACA;AACA;AACA;AACA;AACA"}